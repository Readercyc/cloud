<attachment contenteditable="false" data-atts="%5B%5D" data-aid=".atts-24799119-9600-477e-9552-27da6b0f07d7"></attachment><p># Tencent 云服务器笔记</p><p><br></p><p>## 云服务器的产生</p><p><br></p><p>1. 场景1</p><p>&nbsp;&nbsp;错误预估了服务器的流量，导致服务器的负荷过大，这时候如果使用传统的实体服务器就会要增购。而一旦热度消退，对于新购置的服务器又会浪费。而云服务器可以弹性的选择流量大小，避免浪费</p><p><br></p><p>2. 场景2</p><p>&nbsp;&nbsp;对于一些传统行业</p><p>&nbsp;&nbsp;1. 想要转型互联网+行业的企业，由于知识不足，购置传统服务器会十分麻烦，维护困难</p><p>&nbsp;&nbsp;2. 云服务器提供了一系列完善的与云服务器配合好的配套产品功能，帮助公司快速开展，转型业务</p><p>&nbsp;&nbsp;&nbsp;</p><p>3. 云服务器的特点：弹性、专业、自动化、高效</p><p><br></p><p>## 云服务器的概念</p><p><br></p><p>1. 云服务器（cloud virtual machine)</p><p>&nbsp;&nbsp;1. 将计算资源放在云上的一个资源池中，叫做资源池化</p><p>&nbsp;&nbsp;2. 需要时申请计算资源，即可分配计算资源给予，类似于喝水时打开水龙就能接到水，用电时插上插头就可以用到电，需要计算资源时连上云服务器就可以拿到计算资源</p><p>&nbsp;&nbsp;3. 它是可弹性的，根据按需分配，也可以弹性使用</p><p>&nbsp;&nbsp;4. IaaS:基础即服务</p><p>&nbsp;&nbsp;&nbsp;</p><p>2. 实例（Instance）</p><p>&nbsp;&nbsp;1. 实例是具体的云服务器</p><p>&nbsp;&nbsp;2. 部分语境下它指的就是云服务器，相当于初号机云服务器</p><p>&nbsp;&nbsp;3. 含有配置属性：包括CPU,内存，网络等</p><p>&nbsp;&nbsp;4. 由元数据组标识属性</p><p><br></p><p>3. 镜像（Image）</p><p>&nbsp;&nbsp;1. 是云服务器实例的模板</p><p><br></p><p>## 云服务器的特性</p><p>1. 弹性</p><p>&nbsp;&nbsp;- 按需申请</p><p>&nbsp;&nbsp;- 动态调整</p><p>&nbsp;&nbsp;- 实现方式：云服务器拥有固定服务群和弹性伸缩群，当需要使用更多云服务器的时候将挪用弹性伸缩群的云服务器</p><p>&nbsp;&nbsp;</p><p>2. 专业</p><p>&nbsp;&nbsp;- 冷热迁移</p><p>&nbsp;&nbsp;- 可复用性</p><p>&nbsp;&nbsp;- 多重容灾方案</p><p>&nbsp;&nbsp;- 网络联机保障</p><p>&nbsp;&nbsp;- 安全保障</p><p>3. 高效</p><p>&nbsp;&nbsp;- 快速复用：只要部署好了一个云服务器的配置，就可以快速的反复使用，无需再重复配置，装配等</p><p>&nbsp;&nbsp;- 平滑扩容，缩容：在服务器的容量上进行弹性变化，并且十分迅速</p><p>&nbsp;&nbsp;- 付费灵活：容量计费、包月、包年，可以根据消费者的需求自行调整</p><p>&nbsp;&nbsp;- 混合部署：可以很轻松的和现有的云服务器和实体服务器配合使用</p><p>4. 自动化</p><p>&nbsp;&nbsp;- 提供RESTfulAPI</p><p>&nbsp;&nbsp;&nbsp;- 可以通过软件定义资源而不一定要用硬件去定义</p><p>&nbsp;&nbsp;- 拥有集成自动化的运维资源</p><p>&nbsp;&nbsp;- 实现DevOps</p><p>&nbsp;&nbsp;- DevOps：DevOps（Development和Operations的组合词）是一组过程、方法与系统的统称，用于促进开发（应用程序/软件工程）、技术运营和质量保障（QA）部门之间的沟通、协作与整合。</p><p><br></p><p>## 虚拟化</p><p><br></p><p>- 通过技术虚拟化硬件环境，使得操作系统不用跑在真实的硬件上，而是跑在模拟的环境中（我们称之为虚拟化层）</p><p>- 分类：</p><p>&nbsp;&nbsp;- 按虚拟对象分类</p><p>&nbsp;&nbsp;&nbsp;&nbsp;- 操作系统虚拟化</p><p>&nbsp;&nbsp;&nbsp;&nbsp;- 平台虚拟化&nbsp;</p><p>&nbsp;&nbsp;- 按方案</p><p>&nbsp;&nbsp;&nbsp;&nbsp;- 软件虚拟化</p><p>&nbsp;&nbsp;&nbsp;&nbsp;- 硬件虚拟化</p><p>&nbsp;&nbsp;- 程度分类</p><p>&nbsp;&nbsp;&nbsp;&nbsp;- 准虚拟化</p><p>&nbsp;&nbsp;&nbsp;&nbsp;- 全虚拟化</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p>- 虚拟机监视器</p><p>&nbsp;&nbsp;- hypervisor</p><p>&nbsp;&nbsp;- VMM</p><p>&nbsp;&nbsp;- 主要功能</p><p>&nbsp;&nbsp;&nbsp;&nbsp;- 管理虚拟机的生命周期</p><p>&nbsp;&nbsp;&nbsp;&nbsp;- 为虚拟机抽象出硬件环境</p><p>&nbsp;&nbsp;- 两种类型</p><p>&nbsp;&nbsp;&nbsp;&nbsp;- 一型：将虚拟机直接运行在物理硬件上</p><p>&nbsp;&nbsp;&nbsp;&nbsp;- 二型：将虚拟机运行在操作系统上</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p>- 虚拟机</p><p>&nbsp;&nbsp;- 虚拟机一般指的客户机，供给客户使用</p><p>&nbsp;&nbsp;- 一个物理机可以存在多个虚拟机</p><p>&nbsp;&nbsp;- 所谓的云服务器就是在云中的虚拟机</p><p>&nbsp;&nbsp;&nbsp;</p><p>## KVM</p><p><br></p><p>1. 与linux打包发行</p><p>2. 需要运行在硬件虚拟化特性的物理机上（Intel-VT/AMD-VT)</p><p>3. 二型虚拟机</p><p>1. 仅支持全虚拟化</p><p>2. 支持准虚拟化驱动来提升I\O性能</p><p>3. 充分利用linux模块（算作linux的一个进程）</p><p>&nbsp;&nbsp;- 调度</p><p>&nbsp;&nbsp;- 内存管理</p><p>&nbsp;&nbsp;- 电池管理</p><p><br></p><p>- CPU虚拟化：Intel-VT/AMD-VT 特性</p><p>- 内存虚拟</p><p>&nbsp;&nbsp;- 影子页表</p><p>&nbsp;&nbsp;- Intel EPT/AMD NPT辅助</p><p>- I/O虚拟</p><p>&nbsp;&nbsp;- 模拟设备保证兼容性</p><p>&nbsp;&nbsp;- 半虚拟化设备保证性能</p><p>&nbsp;&nbsp;- 分配专用设备同时保证兼容性和性能</p><p>- 支持超大规模的虚拟机和主机</p><p>&nbsp;&nbsp;- 主机1024CPU，8TB内存</p><p>&nbsp;&nbsp;- 虚拟机160CPU,2TB内存</p><p>- 支持快照</p><p>- 支持迁移</p><p><br></p><p>## Xen</p><p>- 一型虚拟机</p><p>- 定制了微内核</p><p>- 支持准虚拟化，全虚拟化</p><p>- 准虚拟化：不用软件实行虚拟化</p><p>&nbsp;&nbsp;- 需要更改操作系统</p><p>&nbsp;&nbsp;- 替换掉复杂的硬件指令</p><p>&nbsp;&nbsp;- 客户机自行知道自己在虚拟化工作</p><p>&nbsp;&nbsp;&nbsp;</p><p>## 共同点与不同点</p><p><br></p><p>- 都开源</p><p>- KVM简单，有社区维护</p><p>- Xen产品历史悠久，支持准虚拟化</p><p><br></p><p>## 弹性计算</p><p><br></p><p>-&nbsp;自动调整计算资源供应量</p><p>-&nbsp;实现基础</p><p>&nbsp;&nbsp;- 虚拟化技术</p><p>&nbsp;&nbsp;- 自动化资源管理与监控</p><p>&nbsp;&nbsp;- 高可用和容灾</p><p>&nbsp;&nbsp;&nbsp;</p><p>- 有哪些弹性资源呢？</p><p>&nbsp;&nbsp;- 弹性伸缩组云服务器</p><p>&nbsp;&nbsp;- 弹性IP</p><p>&nbsp;&nbsp;- 弹性云硬盘</p><p><br></p>